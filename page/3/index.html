





<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    
    <title>Page 3 | Williamful</title>
    <meta name="author" content="William Huey">
    
    <meta name="description" content="Blogging and Beyond">
    
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    
    <meta property="og:site_name" content="Williamful"/>

    <meta name="google-site-verification" content="B2mK_j0pDOjJWR2qib5P5KJZ7Dm_D3eakVIvZJ6gME0" />

    
<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-39929091-1', 'github.io');
    ga('send', 'pageview');
</script>


    <link href="/favicon.ico?" type="image/x-icon" rel="shortcut icon">

  <link rel="alternate" href="/atom.xml" title="Williamful" type="application/atom+xml">

  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">

<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-39929091-1', 'github.io');
    ga('send', 'pageview');
</script>

<link rel="apple-touch-icon" sizes="57x57" href="/img/LogoSlanted-57-outline.png" />
<link rel="apple-touch-icon" sizes="75x75" href="/img/LogoSlanted-75-outline.png" />
<link rel="apple-touch-icon" sizes="114x114" href="/img/LogoSlanted-114-outline.png" />
<link rel="apple-touch-icon" sizes="144x144" href="/img/LogoSlanted-144-outline.png" />

</head>


<body id="posts">

<hr id="top-of-page">
<header id="header">
    <div class="ym-wrapper">
        <div class="ym-box">
            <div id="main-header-wrapper" class="ym-clearfix">
  <div id="main-logo-header">
    <a title="Home is where the heart is." href="/">
      <img id="main-logo" src="/img/logoSmall.png" alt="logo"/>
    </a>
  </div>
  <div id="site-name" class="main-header-text">
    <a title="Home is where the heart is." href="/">
       Williamful
    </a>
  </div>
  <div id="site-tagline" class="main-header-text">
    <a title="Home is where the heart is." href="/">
      Blogging and Beyond
    </a>
  </div>
</div>

<nav id="main-nav">
    <ul id="main-nav-ul" class="ym-clearfix">

    <li class="main-nav-li" id="rss-li">
        <ul class="ym-clearfix">
            <li class="nav-img">
                <a id="Rss" href="/atom.xml"></a>
            </li>
            <li class="nav-word">
                <a href="/atom.xml">RSS</a>
            </li>
        </ul>


    </li>

    <li class="main-nav-li" id="recent-li">
        <ul class="ym-clearfix">
            <li class="nav-img">
                <a id="Recent" href="#recent"></a>
            </li>
            <li class="nav-word">
                <a href="#recent">Recent</a>
            </li>
        </ul>
    </li>

    <li class="main-nav-li" id="archives-li">
        <ul class="ym-clearfix">
            <li class="nav-img">
                <a id="Archives" href="/archives"></a>
            </li>
            <li class="nav-word">
                <a href="/archives">Archives</a>
            </li>
        </ul>
    </li>

    <li class="main-nav-li" id="code-li">
        <ul class="ym-clearfix">
            <li class="nav-img">
                <a id="Code" href="#"></a>
            </li>
            <li class="nav-word">
                <a href="/code">Code</a>
            </li>
        </ul>
    </li>


</ul>
</nav>

        </div>
    </div>

</header>
<main id="content">
    <div id="main-col" class="ym-wrapper">
        <div id="main-col-wrapper" class="ym-wbox">
            
  
<article class="post">

  <div class="post-content">
    <header class="post-content-header">
      
        <time class="post-content-time" datetime="2014-06-04T04:19:21.000Z"><a href="/2014/06/03/jquery-plugins---prevent-multiple-instantiations/">6/3/2014</a></time>
      
      
  
    <h2 class="title"><a href="/2014/06/03/jquery-plugins---prevent-multiple-instantiations/">jQuery Plugins - Prevent Multiple Instantiations</a></h2>
  

    </header>
    <div class="post-content-entry">
      
        <h2 id="Script_Loading_Safety">Script Loading Safety</h2><p>The <a href="https://github.com/jquery-boilerplate/jquery-boilerplate" target="_blank" rel="external">jQuery Boilerplate</a> is a popular boilerplate and provides a safety
 net for double instantiation of a jQuery object with this code</p>
<figure class="highlight js"><figcaption><span>Prevent Double Instantation on jQuery Object</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="line"><span class="hljs-keyword">if</span> (!$.data(<span class="hljs-keyword">this</span>, <span class="hljs-string">"plugin_"</span> + pluginName)) &#123;</span><br><span class="line">  $.data(<span class="hljs-keyword">this</span>, <span class="hljs-string">"plugin_"</span> + pluginName, <span class="hljs-keyword">new</span> Plugin(<span class="hljs-keyword">this</span>, options));</span><br><span class="line">&#125;</span><br></code></pre></td></tr></table></div></figure>
<p>This is good safeguard for your jQuery objects, but what happens if
your plugin script gets load twice?</p>
<figure class="highlight html"><figcaption><span>Accidental Reloading of Plugin Script</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="line"><span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>TakeOut<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">charset</span>=<span class="hljs-value">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"assets/vendor/js/jquery-1.11.1.min.js"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"src/TakeOut.js"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"src/TakeOut.js"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span></span><br></code></pre></td></tr></table></div></figure>
<p>This is unlikely to happen, but this problem could manifest in more devious or and less apparent ways, such as when project files are minify and concatenated.</p>
<p>This might cause some unexpected behaviors if the plugin attaches event
listeners by default. In order to protect your page, do the following</p>
<figure class="highlight js"><figcaption><span>Attachment Check</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="line">(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">($, window, document, undefined)</span> </span>&#123;</span><br><br class="double"><span class="line">  <span class="hljs-keyword">var</span> pluginName = <span class="hljs-string">"MyMagnificentJQueryPlugin"</span>;</span><br><br class="double"><span class="line">  <span class="hljs-comment">//Only allow for one instantiation of this script</span></span><br><span class="line">  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> $.fn[pluginName] !== <span class="hljs-string">'undefined'</span>) &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span>;</span><br><span class="line">  &#125;</span><br><br class="double"><span class="line">  <span class="hljs-comment">//Rest of your jQuery plugin logic here</span></span><br><span class="line">&#125;)(jQuery, <span class="hljs-built_in">window</span>, <span class="hljs-built_in">document</span>);</span><br></code></pre></td></tr></table></div></figure>
<p>There is a check in the beginning of the script to see if the plugin
has already attach itself to the jQuery object.</p>

      


    </div>
    
<footer class="post-content-footer">
  
  <div class="article-tags ym-clearfix">
    <p>Tags: </p>
    <a href="/tags/jQuery/">jQuery</a>, <a href="/tags/javascript/">javascript</a>
  </div>
</footer>


      <div class="dotted-border"></div>
  </div>

</article>




  
<article class="post">

  <div class="post-content">
    <header class="post-content-header">
      
        <time class="post-content-time" datetime="2014-05-22T18:00:15.000Z"><a href="/2014/05/22/nodejs-quick-tips-1/">5/22/2014</a></time>
      
      
  
    <h2 class="title"><a href="/2014/05/22/nodejs-quick-tips-1/">Nodejs Quick Tips #1</a></h2>
  

    </header>
    <div class="post-content-entry">
      
        <h3 id="Creating_Multiple_Files">Creating Multiple Files</h3><p>Unfortunately, the fs.writeFile does not accept an array for creating a bunch of files at once.
To solve this problem, put all files in an array and loop through
them to create the files.</p>
<figure class="highlight js"><figcaption><span>More than One File at Once</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="line"><span class="hljs-keyword">var</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);</span><br><br class="double"><span class="line"><span class="hljs-comment">//Use an array to house all files to be created</span></span><br><span class="line">[<span class="hljs-string">'thing.txt'</span>, <span class="hljs-string">'thing2.txt'</span>,</span><br><span class="line"><span class="hljs-string">'otherFile.txt'</span>, <span class="hljs-string">'abc.txt'</span>,</span><br><span class="line"><span class="hljs-string">'def.txt'</span>, <span class="hljs-string">'ghi.txt'</span>].forEach(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(value)</span> </span>&#123;</span><br><span class="line">  fs.writeFile(value, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">throw</span> err;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></code></pre></td></tr></table></div></figure>
<h3 id="Get_Path_of_Directory_One_Up_from_Current">Get Path of Directory One Up from Current</h3><p>Using the ‘path’ variable along with some array operations, the folder one level above the current directory could be found. The value of ‘1’ goes up one level, but this value could be changed to go up as many level as desired.</p>
<figure class="highlight js"><figcaption><span>One Directory Up</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="line"><span class="hljs-keyword">var</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);</span><br><br class="double"><span class="line"><span class="hljs-comment">//Using this path for example</span></span><br><span class="line"><span class="hljs-comment">// /home/williamhuey/Desktop/CodeStuff/</span></span><br><span class="line"><span class="hljs-keyword">var</span> cwd = process.cwd();</span><br><br class="double"><span class="line"><span class="hljs-comment">// [ '', 'home', 'williamhuey', 'Desktop', 'CodeStuff']</span></span><br><span class="line"><span class="hljs-keyword">var</span> pathSep = cwd.split(path.sep);</span><br><br class="double"><span class="line"><span class="hljs-comment">// [ '', 'home', 'williamhuey', 'Desktop']</span></span><br><span class="line"><span class="hljs-keyword">var</span> slicedPath = pathSep.slice(<span class="hljs-number">0</span>,pathSep.length - <span class="hljs-number">1</span>);</span><br><br class="double"><span class="line"><span class="hljs-comment">// /home/williamhuey/Desktop/</span></span><br><span class="line"><span class="hljs-keyword">var</span> oneUpDirectory = slicedPath.join(path.sep);</span><br></code></pre></td></tr></table></div></figure>
      


    </div>
    
<footer class="post-content-footer">
  
  <div class="article-tags ym-clearfix">
    <p>Tags: </p>
    <a href="/tags/javascript/">javascript</a>, <a href="/tags/nodejs/">nodejs</a>
  </div>
</footer>


      <div class="dotted-border"></div>
  </div>

</article>




  
<article class="post">

  <div class="post-content">
    <header class="post-content-header">
      
        <time class="post-content-time" datetime="2014-05-06T22:01:51.000Z"><a href="/2014/05/06/private-instance-method-variables/">5/6/2014</a></time>
      
      
  
    <h2 class="title"><a href="/2014/05/06/private-instance-method-variables/">Private Instance Method Variables</a></h2>
  

    </header>
    <div class="post-content-entry">
      
        <h3 id="Instances_Methods_and_Their_Personal_State">Instances Methods and Their Personal State</h3><p>This post is for intended for JavaScript (not Java).</p>
<p>One may put instance method variables within an instance method to provide encapsulation, but what do you do when you want to maintain a private state for each instance method on each instance method execution?</p>
<p>The technique in achieving such a task involves wrapping an instance method and its variable within a function as shown below. The result will produce instance method variables that are truly private to the instance method.</p>
<p>The instance method gets attached to the constructor by using the ‘this’ reference to the constructor.</p>
<p>Each instance function is then placed into an internal array and the array is looped over to execute and initialize each wrapper function and its corresponding static methods and variables.</p>
<figure class="highlight js"><figcaption><span>Instance Variables</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="line"><span class="hljs-keyword">var</span> Time = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">  <span class="hljs-comment">//Reference the context</span></span><br><span class="line">  <span class="hljs-keyword">var</span> _this = <span class="hljs-keyword">this</span>;</span><br><br class="double"><span class="line">  <span class="hljs-comment">//Internal array which houses all instance methods</span></span><br><span class="line">  <span class="hljs-comment">//Wrapping all instance methods in a function to</span></span><br><span class="line">  <span class="hljs-comment">//contain its private variables for instance methods</span></span><br><span class="line">  <span class="hljs-keyword">var</span> _time = [</span><br><br class="double"><span class="line">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>&#123;</span><br><br class="double"><span class="line">      <span class="hljs-comment">//Private variables for instance</span></span><br><span class="line">      <span class="hljs-keyword">var</span> privateStaticVar = <span class="hljs-string">'Time in milliseconds is '</span>;</span><br><br class="double"><span class="line">      <span class="hljs-comment">//A instance method of the Time constructor</span></span><br><span class="line">      _this.getTimeInMilliseconds = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> privateStaticVar + <span class="hljs-built_in">Date</span>.now();</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-comment">//Add more functions within this array</span></span><br><span class="line">    <span class="hljs-comment">//for other instance methods</span></span><br><span class="line">  ];</span><br><br class="double"><span class="line">  <span class="hljs-comment">//Initialize all instance methods</span></span><br><span class="line">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; _time.length; i++) &#123;</span><br><span class="line">    _time[i]();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><br class="double"><span class="line"><span class="hljs-keyword">var</span> time = <span class="hljs-keyword">new</span> Time();</span><br><br class="double"><span class="line"><span class="hljs-built_in">console</span>.log(time.getTimeInMilliseconds());</span><br></code></pre></td></tr></table></div></figure>
      


    </div>
    
<footer class="post-content-footer">
  
  <div class="article-tags ym-clearfix">
    <p>Tags: </p>
    <a href="/tags/javascript/">javascript</a>
  </div>
</footer>


      <div class="dotted-border"></div>
  </div>

</article>




  
<article class="post">

  <div class="post-content">
    <header class="post-content-header">
      
        <time class="post-content-time" datetime="2014-05-01T22:34:05.000Z"><a href="/2014/05/01/pubsub-lists/">5/1/2014</a></time>
      
      
  
    <h2 class="title"><a href="/2014/05/01/pubsub-lists/">Pubsub Lists</a></h2>
  

    </header>
    <div class="post-content-entry">
      
        <h3 id="Publish_and_Subscribe">Publish and Subscribe</h3><p>One way of emitting events is by using trigger on a jQuery element.</p>
<figure class="highlight js"><figcaption><span>Event Emitting from Element</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="line">$(<span class="hljs-string">'#my-element-id'</span>).trigger(<span class="hljs-string">'my-beautiful-event'</span>);</span><br></code></pre></td></tr></table></div></figure>
<p>This is okay if we only wanted to trigger an event from a specific element, but what happens if we want a generic way of doing things, such as without referring to an element when triggering?</p>
<p>The way to do this is to use <a href="https://api.jquery.com/jQuery.Callbacks/" target="_blank" rel="external">jQuery.Callbacks()</a> to create a pubsub system.</p>
<p>An instance of jQuery.Callbacks accumulates functions, and runs one functions after another when the “fire” method is call upon. The property of jQuery.Callbacks that is of interest in the pubsub system, is the ability to fire(call) the functions when needed, whereas the ability to accumulate multiple functions is not as critical to the pubsub system.</p>
<p>To demonstrate pubsub, our example will have three select lists, where each subscribes and publishes to one another.</p>
<p>The code from the jQuery api page will be used</p>
<figure class="highlight js"><figcaption><span>Pubsub</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="line"><span class="hljs-comment">//Adapted from jQuery api page (only variable renames)</span></span><br><span class="line"><span class="hljs-comment">//https://api.jquery.com/jQuery.Callbacks/</span></span><br><span class="line"><span class="hljs-keyword">var</span> classGroups = &#123;&#125;;</span><br><span class="line"><span class="hljs-keyword">var</span> pubsubNameSpace = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(id)</span> </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">var</span> callbacks,</span><br><span class="line">    classGroup = id &amp;&amp; classGroups[id];</span><br><span class="line">  <span class="hljs-keyword">if</span> (!classGroup) &#123;</span><br><span class="line">    callbacks = $.Callbacks();</span><br><span class="line">    classGroup = &#123;</span><br><span class="line">      publish: callbacks.fire,</span><br><span class="line">      subscribe: callbacks.add,</span><br><span class="line">      unsubscribe: callbacks.remove</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="hljs-keyword">if</span> (id) &#123;</span><br><span class="line">      classGroups[id] = classGroup;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="hljs-keyword">return</span> classGroup;</span><br><span class="line">&#125;;</span><br></code></pre></td></tr></table></div></figure>
<p>The main point of this code, is that ‘pubsubNameSpace’ will create a namespace for a string that is passed in as ‘id’. The ‘id’ is a key in the ‘classGroups’ object. The ‘classGroup’ is an object that is the return value of ‘pubsubNameSpace’ which has a ‘publish’, ‘subscribe’, and ‘unsubscribe’ key that refer to the jQuery Callbacks methods.</p>
<p>Once we have this code, the following can be called like so</p>
<figure class="highlight js"><figcaption><span>Pubsub Usage</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="line"><span class="hljs-comment">//Create a namespace</span></span><br><span class="line"><span class="hljs-keyword">var</span> ns = pubsubNameSpace(<span class="hljs-string">'my-creative-namespace-name'</span>);</span><br><br class="double"><span class="line"><span class="hljs-comment">//Subscribe to the Namespace</span></span><br><span class="line">ns.subscribe(myFunction);</span><br><br class="double"><span class="line"><span class="hljs-comment">//Publish within the Namespace</span></span><br><span class="line">ns.publish(&#123;</span><br><span class="line">  data: <span class="hljs-string">'just-a-string'</span></span><br><span class="line">&#125;);</span><br><br class="double"><span class="line"><span class="hljs-comment">//Subscribe's function</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myFunction</span><span class="hljs-params">()</span>  </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>]);</span><br><span class="line">&#125;</span><br></code></pre></td></tr></table></div></figure>
<p>When publishing, one can pass in any data, but with the subscribe call, a function must be use as a funnel for the data that has been published.</p>
<p>To start the example, the initial variable declarations:</p>
<figure class="highlight js"><figcaption><span>Select List New Namespace</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="line"><span class="hljs-keyword">var</span> $select = $(<span class="hljs-string">'select.classy'</span>),</span><br><span class="line">  className = $select.prop(<span class="hljs-string">'class'</span>),</span><br><span class="line">  ns = pubsubNameSpace(className),</span><br><span class="line">  $info = $(<span class="hljs-string">'#info'</span>);</span><br></code></pre></td></tr></table></div></figure>
<p>The class name of the select lists is used as the name space for the pubsub. ‘$info’ is the div for displaying messages.</p>
<p>The main logic for publishing and subscribing for the select lists.</p>
<figure class="highlight js"><figcaption><span>Select Lists Pubsub</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="line"><span class="hljs-keyword">var</span> id = -<span class="hljs-number">1</span>;</span><br><span class="line">$select.each(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">  <span class="hljs-comment">//To id each select list</span></span><br><span class="line">  id++;</span><br><span class="line">  <span class="hljs-keyword">var</span> $<span class="hljs-keyword">this</span> = $(<span class="hljs-keyword">this</span>);</span><br><span class="line">  $<span class="hljs-keyword">this</span>.data(<span class="hljs-string">'id'</span>, id);</span><br><br class="double"><span class="line">  <span class="hljs-comment">//Reset each list</span></span><br><span class="line">  $<span class="hljs-keyword">this</span>.prop(<span class="hljs-string">'selectedIndex'</span>, <span class="hljs-number">0</span>);</span><br><br class="double"><span class="line">  <span class="hljs-comment">//Listen to the selection changes for each list</span></span><br><span class="line">  $<span class="hljs-keyword">this</span>.on(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">var</span> $selected = $<span class="hljs-keyword">this</span>.children(<span class="hljs-string">'option:selected'</span>);</span><br><br class="double"><span class="line">    <span class="hljs-comment">//Tell all members of the same class of change</span></span><br><span class="line">    ns.publish(&#123;</span><br><span class="line">      selected: $selected.text(),</span><br><span class="line">      id: $<span class="hljs-keyword">this</span>.data(<span class="hljs-string">'id'</span>)</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><br class="double"><span class="line">  <span class="hljs-comment">//Listen for changes within the same class</span></span><br><span class="line">  ns.subscribe($.proxy(explain, $<span class="hljs-keyword">this</span>));</span><br><span class="line">&#125;);</span><br></code></pre></td></tr></table></div></figure>
<p>Iterate through each select list and associate them with an id. Attach a ‘change’ event handler to each list and within it, publish the selected value with the select list id. Also subscribe to messages from the same class.</p>
<p>Now finally for subscribe’s function</p>
<figure class="highlight js"><figcaption><span>Logging Function</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="line"><span class="hljs-comment">//Log info for subscribe function</span></span><br><span class="line"><span class="hljs-keyword">var</span> explain = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.data(<span class="hljs-string">'id'</span>) !== <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>].id) &#123;</span><br><span class="line">    <span class="hljs-comment">//Display the info in div</span></span><br><span class="line">    <span class="hljs-keyword">var</span> msg = <span class="hljs-string">'List '</span> + <span class="hljs-keyword">this</span>.data(<span class="hljs-string">'id'</span>) +</span><br><span class="line">      <span class="hljs-string">' heard from List '</span> + <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>].id +</span><br><span class="line">      <span class="hljs-string">'. The value selected was '</span> + <span class="hljs-string">'"'</span> +</span><br><span class="line">      <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>].selected + <span class="hljs-string">'"'</span>;</span><br><span class="line">    $info.prepend(<span class="hljs-string">'&lt;p&gt;'</span> + msg + <span class="hljs-string">'&lt;/p&gt;'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></code></pre></td></tr></table></div></figure>
<p>Note that there needs to be a check for whether or not the published data id is the same as the current list element’s id to ensure that our list does not listen to its own published message. This is because all select lists listens subscribe to the same class namespace.</p>
<p><a href="http://jsbin.com/yexiseke/1" target="_blank" rel="external">Online Demo</a> | <a href="/demos/2014-05-01-pubsub-lists.zip">Offline Demo</a></p>

      


    </div>
    
<footer class="post-content-footer">
  
  <div class="article-tags ym-clearfix">
    <p>Tags: </p>
    <a href="/tags/jQuery/">jQuery</a>, <a href="/tags/javascript/">javascript</a>
  </div>
</footer>


      <div class="dotted-border"></div>
  </div>

</article>




  
<article class="post">

  <div class="post-content">
    <header class="post-content-header">
      
        <time class="post-content-time" datetime="2014-04-22T23:49:05.000Z"><a href="/2014/04/22/readable-stream/">4/22/2014</a></time>
      
      
  
    <h2 class="title"><a href="/2014/04/22/readable-stream/">Readable-stream</a></h2>
  

    </header>
    <div class="post-content-entry">
      
        <h3 id="Streaming_Consistency">Streaming Consistency</h3><p>Since Node’s streaming api is still changing and is in ‘unstable’ category, writing a npm module using streams may cause some unexpected behaviors on older versions of Node. To ensure that streams are compatible with older versions of Node, a drop-in replacement for stream is available called ‘readable-stream’.</p>
<p>The following example uses the ‘readable’ event, which is not present on Node versions &lt; 0.10, but the readable-stream module is handling this inconsistency which means that this example will work with Node versions &lt; 0.10.</p>
<figure class="highlight js"><figcaption><span>Wrapping fs.createReadStream</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="line"><span class="hljs-keyword">var</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>),</span><br><span class="line">  Readable = <span class="hljs-built_in">require</span>(<span class="hljs-string">'readable-stream'</span>).Readable,</span><br><span class="line">  reader = <span class="hljs-keyword">new</span> Readable();</span><br><br class="double"><span class="line">reader.wrap(fs.createReadStream(<span class="hljs-string">'./test.txt'</span>))</span><br><span class="line">  .on(<span class="hljs-string">'readable'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>.read().toString());</span><br><span class="line">  &#125;).on(<span class="hljs-string">'end'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Finished reading stream'</span>);</span><br><span class="line">  &#125;);</span><br></code></pre></td></tr></table></div></figure>
      


    </div>
    
<footer class="post-content-footer">
  
  <div class="article-tags ym-clearfix">
    <p>Tags: </p>
    <a href="/tags/javascript/">javascript</a>, <a href="/tags/nodejs/">nodejs</a>
  </div>
</footer>


      <div class="dotted-border"></div>
  </div>

</article>





<nav id="pagination">
  <div id="pagination-wrapper" class="ym-clearfix">
      
        <a href="/page/2/" class="newer">« Newer</a>
      
      <span id="pagination-info">Page 3 of 8</span>
      
        <a href="/page/4/" class="older">Older »</a>
      
  </div>
</nav>
        </div>
    </div>
</main>
<aside id="sidebar">
    <div class="ym-wrapper">
        <div class="ym-wbox">
            <div id="aside-wrapper" class="ym-clearfix">
                
  
<div class="widget tag" id="aside-tag">
  <h3 class="title">Tags</h3>

  

    <ul class="entry">
  
    
        <li><a href="/tags/cms/">cms</a></li>
    
        
    
        <li><a href="/tags/css/">css</a></li>
    
        
    
        <li><a href="/tags/emberjs/">emberjs</a></li>
    
        
    
        <li><a href="/tags/html/">html</a></li>
    
        
    
        <li><a href="/tags/jQuery/">jQuery</a></li>
    
        
    
        <li><a href="/tags/javascript/">javascript</a></li>
    
        
    
        <li><a href="/tags/meteorjs/">meteorjs</a></li>
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    </ul>

    <ul class="entry">
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
            <li><a href="/tags/nodejs/">nodejs</a></li>
        
        
        
            <li><a href="/tags/octopress/">octopress</a></li>
        
        
        
            <li><a href="/tags/rails/">rails</a></li>
        
        
        
            <li><a href="/tags/rvm/">rvm</a></li>
        
        
        
            <li><a href="/tags/server/">server</a></li>
        
        
        
            <li><a href="/tags/shell/">shell</a></li>
        
        
    </ul>

</div>


  
<div class="widget tag" id="archive-recent">
  <h3 id="recent" class="title">Recent Posts</h3>
  <ul class="entry">
    
      <li>
        <a href="/2015/02/14/Meteor-Quick-Tips-2/">Meteor - Quick Tips #2</a>
      </li>
    
      <li>
        <a href="/2015/01/19/Meteor-Quick-Tips-1/">Meteor - Quick Tips #1</a>
      </li>
    
      <li>
        <a href="/2014/12/24/Validating-Numbers/">Validating Numbers</a>
      </li>
    
      <li>
        <a href="/2014/11/26/WordPress-Mixed-Content-Warning/">WordPress - Mixed Content Warning</a>
      </li>
    
      <li>
        <a href="/2014/10/28/Bash-Clear-History-Upon-Exiting-Terminal/">Bash - Clear History Upon Exiting Terminal</a>
      </li>
    
  </ul>
</div>


<a id="top-of-page-link" href="#top-of-page">Top of Page</a>

            </div>

        </div>
    </div>

</aside>
<footer id="main-footer">
    <div class="ym-wrapper">
        <div class="ym-wbox">
            <p id="main-footer-text">
  Copyright rightfully belongs here
  
  &copy; 2015 William Huey
  
  and proudly powered by <a href="http://hexo.io">Hexo</a> and
  <a href="http://www.github.com/williamhuey">Github</a>
</p>

        </div>
    </div>
</footer>
</body>
</html>

