





<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    
    <title>Typeof Wrapper | Williamful</title>
    <meta name="author" content="William Huey">
    
    <meta name="description" content="Robust Typeof">
    
    <meta name="keywords" content="typeof checking robust reliable">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta property="og:title" content="Typeof Wrapper"/>
    <meta property="og:site_name" content="Williamful"/>

    <meta name="google-site-verification" content="B2mK_j0pDOjJWR2qib5P5KJZ7Dm_D3eakVIvZJ6gME0" />

    
<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-39929091-1', 'github.io');
    ga('send', 'pageview');
</script>


    <link href="/favicon.ico?" type="image/x-icon" rel="shortcut icon">

  <link rel="alternate" href="/atom.xml" title="Williamful" type="application/atom+xml">

  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">

<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-39929091-1', 'github.io');
    ga('send', 'pageview');
</script>

<link rel="apple-touch-icon" sizes="57x57" href="/img/LogoSlanted-57-outline.png" />
<link rel="apple-touch-icon" sizes="75x75" href="/img/LogoSlanted-75-outline.png" />
<link rel="apple-touch-icon" sizes="114x114" href="/img/LogoSlanted-114-outline.png" />
<link rel="apple-touch-icon" sizes="144x144" href="/img/LogoSlanted-144-outline.png" />

</head>


<body>

<hr id="top-of-page">
<header id="header">
    <div class="ym-wrapper">
        <div class="ym-box">
            <div id="main-header-wrapper" class="ym-clearfix">
  <div id="main-logo-header">
    <a title="Home is where the heart is." href="/">
      <img id="main-logo" src="/img/logoSmall.png" alt="logo"/>
    </a>
  </div>
  <div id="site-name" class="main-header-text">
    <a title="Home is where the heart is." href="/">
       Williamful
    </a>
  </div>
  <div id="site-tagline" class="main-header-text">
    <a title="Home is where the heart is." href="/">
      Blogging and Beyond
    </a>
  </div>
</div>

<nav id="main-nav">
    <ul id="main-nav-ul" class="ym-clearfix">

    <li class="main-nav-li" id="rss-li">
        <ul class="ym-clearfix">
            <li class="nav-img">
                <a id="Rss" href="/atom.xml"></a>
            </li>
            <li class="nav-word">
                <a href="/atom.xml">RSS</a>
            </li>
        </ul>


    </li>

    <li class="main-nav-li" id="recent-li">
        <ul class="ym-clearfix">
            <li class="nav-img">
                <a id="Recent" href="#recent"></a>
            </li>
            <li class="nav-word">
                <a href="#recent">Recent</a>
            </li>
        </ul>
    </li>

    <li class="main-nav-li" id="archives-li">
        <ul class="ym-clearfix">
            <li class="nav-img">
                <a id="Archives" href="/archives"></a>
            </li>
            <li class="nav-word">
                <a href="/archives">Archives</a>
            </li>
        </ul>
    </li>

    <li class="main-nav-li" id="code-li">
        <ul class="ym-clearfix">
            <li class="nav-img">
                <a id="Code" href="#"></a>
            </li>
            <li class="nav-word">
                <a href="/code">Code</a>
            </li>
        </ul>
    </li>


</ul>
</nav>

        </div>
    </div>

</header>
<main id="content">
    <div id="main-col" class="ym-wrapper">
        <div id="main-col-wrapper" class="ym-wbox">
            <div id="post-div">
    
<article class="post">

  <div class="post-content">
    <header class="post-content-header">
      
        <time class="post-content-time" datetime="2014-06-20T14:53:03.000Z"><a href="/2014/06/20/Typeof-Wrapper/">6/20/2014</a></time>
      
      
  
    <h2 class="title">Typeof Wrapper</h2>
  

    </header>
    <div class="post-content-entry">
      
        <h3 id="Robust-Typeof"><a href="#Robust-Typeof" class="headerlink" title="Robust Typeof"></a>Robust Typeof</h3><p>Using typeof in JavaScript does not produce the results that one would expect as explain by many articles found on the <a href="http://tobyho.com/2011/01/28/checking-types-in-javascript/" target="_blank" rel="external">internet</a>.</p>
<p>This snippet adapts <a href="http://jashkenas.github.io/underscore/" target="_blank" rel="external">underscore’s</a> checking of types in a condense function to provide a more compact and predictable means of checking types in JavaScript.</p>
<figure class="highlight js"><figcaption><span>Robust Typeof Wrapper Function</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs"><span class="line"><span class="hljs-keyword">var</span> type = (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">//Alias the object's prototype</span></span><br><span class="line">  <span class="hljs-keyword">var</span> objProto = <span class="hljs-built_in">Object</span>.prototype.toString;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">//Mapping object for type checking</span></span><br><span class="line">  <span class="hljs-keyword">var</span> typeObj = &#123;</span><br><span class="line">    array: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">obj</span>) </span>&#123;</span><br><span class="line">      <span class="hljs-keyword">return</span> <span class="hljs-built_in">Array</span>.isArray(obj) ||</span><br><span class="line">        objProto.call(obj) == <span class="hljs-string">'[object Array]'</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    object: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">obj</span>) </span>&#123;</span><br><span class="line">      <span class="hljs-keyword">return</span> obj === <span class="hljs-built_in">Object</span>(obj);</span><br><span class="line">    &#125;,</span><br><span class="line">    boolean: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">obj</span>) </span>&#123;</span><br><span class="line">      <span class="hljs-keyword">return</span> obj === <span class="hljs-literal">true</span> ||</span><br><span class="line">        obj === <span class="hljs-literal">false</span> ||</span><br><span class="line">        objProto.call(obj) == <span class="hljs-string">'[object Boolean]'</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="hljs-literal">null</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">obj</span>) </span>&#123;</span><br><span class="line">      <span class="hljs-keyword">return</span> obj === <span class="hljs-literal">null</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="hljs-literal">undefined</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">obj</span>) </span>&#123;</span><br><span class="line">      <span class="hljs-keyword">return</span> obj === <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    nan: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">obj</span>) </span>&#123;</span><br><span class="line">      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.number(obj) &amp;&amp; obj != +obj;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">var</span> commonCompareTypes = [<span class="hljs-string">'function'</span>, <span class="hljs-string">'string'</span>, <span class="hljs-string">'number'</span>, <span class="hljs-string">'date'</span>, <span class="hljs-string">'regexp'</span>];</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; commonCompareTypes.length; i++) &#123;</span><br><span class="line">    (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">      <span class="hljs-keyword">var</span> currentType = commonCompareTypes[i];</span><br><span class="line"></span><br><span class="line">      <span class="hljs-keyword">var</span> fn = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">obj</span>) </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> objProto.call(obj).slice(<span class="hljs-number">8</span>, <span class="hljs-number">-1</span>).toLowerCase() === fn.type;</span><br><span class="line">      &#125;;</span><br><span class="line">      fn.type = currentType;</span><br><span class="line"></span><br><span class="line">      typeObj[currentType] = fn;</span><br><span class="line">    &#125;)();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value, type</span>) </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> typeObj[type](value);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">//Examples</span></span><br><span class="line"><span class="hljs-comment">//Second parameter needs to be in lowercase for function to work</span></span><br><span class="line">type(<span class="hljs-string">'stuff'</span>, <span class="hljs-string">'date'</span>); <span class="hljs-comment">//false</span></span><br><span class="line">type(&#123;&#125;, <span class="hljs-string">'array'</span>);     <span class="hljs-comment">//false</span></span><br><span class="line">type(&#123;&#125;, <span class="hljs-string">'object'</span>);    <span class="hljs-comment">//true</span></span><br><span class="line">type([], <span class="hljs-string">'object'</span>);    <span class="hljs-comment">//true</span></span><br><span class="line">type(<span class="hljs-literal">null</span>, <span class="hljs-string">'null'</span>);    <span class="hljs-comment">//true</span></span><br><span class="line">type(<span class="hljs-literal">NaN</span>, <span class="hljs-string">'nan'</span>);      <span class="hljs-comment">//true</span></span><br><span class="line">type(<span class="hljs-number">123</span>, <span class="hljs-string">'nan'</span>);      <span class="hljs-comment">//false</span></span><br></code></pre></td></tr></table></div></figure>
<p>Do note the behaviors of the ‘object’ and ‘nan’ check, as this follows underscore’s checking implementation. Objects and arrays are considered objects.
The ‘nan’ check is looking for the ‘NaN’ value, and when this condition is not satisfied, false will be returned.</p>

      


    </div>
    
<footer class="post-content-footer">
  
  <div class="article-tags ym-clearfix">
    <p>Tags: </p>
    <a href="/tags/javascript/">javascript</a>
  </div>
</footer>


      <div class="dotted-border"></div>
  </div>

</article>


<nav class="article-pagination ym-clearfix">

    
    <a href="/2014/07/10/File-Streams-Nth-Line/" class="prev" title="File Stream&#39;s Nth Line">« File Stream&#39;s Nth Line</a>
    
    
    <a href="/2014/06/03/jquery-plugins---prevent-multiple-instantiations/" class="next" title="jQuery Plugins - Prevent Multiple Instantiations">jQuery Plugins - Prevent Multiple Instantiations »</a>
    
</nav>



<section id="comment">
  <h1 class="title">Comments</h1>

  
<!--
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
-->
    <div><!-- START: Livefyre Embed -->
        <div id="livefyre-comments"></div>
        <script type="text/javascript" src="http://zor.livefyre.com/wjs/v3.0/javascripts/livefyre.js"></script>
        <script type="text/javascript">
            (function () {
                var articleId = fyre.conv.load.makeArticleId(null);
                fyre.conv.load({}, [{
                    el: 'livefyre-comments',
                    network: "livefyre.com",
                    siteId: "326354",
                    articleId: articleId,
                    signed: false,
                    collectionMeta: {
                        articleId: articleId,
                        url: fyre.conv.load.makeCollectionUrl()
                    }
                }], function() {});
            }());
        </script>
        <noscript>Please enable JavaScript to view the comments powered by LiveFyre</noscript>
        <!-- END: Livefyre Embed --></div>

  
</section>


</div>

        </div>
    </div>
</main>
<aside id="sidebar">
    <div class="ym-wrapper">
        <div class="ym-wbox">
            <div id="aside-wrapper" class="ym-clearfix">
                
  
<div class="widget tag" id="aside-tag">
  <h3 class="title">Tags</h3>

  

    <ul class="entry">
  
    
        <li><a href="/tags/cms/">cms</a></li>
    
        
    
        <li><a href="/tags/css/">css</a></li>
    
        
    
        <li><a href="/tags/emberjs/">emberjs</a></li>
    
        
    
        <li><a href="/tags/html/">html</a></li>
    
        
    
        <li><a href="/tags/jQuery/">jQuery</a></li>
    
        
    
        <li><a href="/tags/javascript/">javascript</a></li>
    
        
    
        <li><a href="/tags/meteorjs/">meteorjs</a></li>
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    </ul>

    <ul class="entry">
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
            <li><a href="/tags/nodejs/">nodejs</a></li>
        
        
        
            <li><a href="/tags/octopress/">octopress</a></li>
        
        
        
            <li><a href="/tags/rails/">rails</a></li>
        
        
        
            <li><a href="/tags/rvm/">rvm</a></li>
        
        
        
            <li><a href="/tags/server/">server</a></li>
        
        
        
            <li><a href="/tags/shell/">shell</a></li>
        
        
    </ul>

</div>


  
<div class="widget tag" id="archive-recent">
  <h3 id="recent" class="title">Recent Posts</h3>
  <ul class="entry">
    
      <li>
        <a href="/2016/04/17/nodejs-quick-tips-2/">Nodejs - Quick Tips #2</a>
      </li>
    
      <li>
        <a href="/2015/07/20/Velocityjs-Effects/">Velocityjs - Effects</a>
      </li>
    
      <li>
        <a href="/2015/05/16/Meteor-Quick-Tips-4/">Meteor - Quick Tips #4</a>
      </li>
    
      <li>
        <a href="/2015/03/25/Meteor-Quick-Tips-3/">Meteor - Quick Tips #3</a>
      </li>
    
      <li>
        <a href="/2015/02/14/Meteor-Quick-Tips-2/">Meteor - Quick Tips #2</a>
      </li>
    
  </ul>
</div>


<a id="top-of-page-link" href="#top-of-page">Top of Page</a>

            </div>

        </div>
    </div>

</aside>
<footer id="main-footer">
    <div class="ym-wrapper">
        <div class="ym-wbox">
            <p id="main-footer-text">
  Copyright rightfully belongs here
  
  &copy; 2016 William Huey
  
  and proudly powered by <a href="http://hexo.io">Hexo</a> and
  <a href="http://www.github.com/williamhuey">Github</a>
</p>

        </div>
    </div>
</footer>
</body>
</html>

